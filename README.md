# DISS (**D**ependency **I**njection **S**wift **S**imple)
## Библиотека для внедрения зависимостей на Swift
### Интерфейс
Обёртка свойств `DissGet` - Присваивает свойству объект соответствующего типа если такой был найден в контейнере, иначе - присваивает nil (доступно только для свойств, объявленных через `var` и имеющих тип `T?`).<p>
Обёртка свойств `DissGetAssisted([args])` - `DissGet` для свойств, которые были добавлены в контейнер с помощью `dissAssist`.<p>
Функция `dissSet(policy) { initializer() }` - Добавляет в DI контейнер объект типа T (тип выводится автоматически).<p>
Функция `dissBind(type, policy) { initializer() }` - Добавляет в DI контейнер объект типа T (тип задаётся пользователем).<p>
Функция `dissAssist(policy) { [args] in initializer() }` - DissSet с возможностью передать аргументы в конструктор (доступно только для `unique policy`).<p>
`DissPolicy` - Предоставляет возможные режимы доступа к объекту:<p>
`singleton` - При попытке получить объект из контейнера будет возвращаться один и тот же экземпляр (доступно только для классов).<p>
`unique` - При попытке получить объект из контейнера будет возвращаться новый объект.<p>
`factory` - При попытке получить объект из контейнера будет возвращаться новый объект если он ещё не был создан или уже существующий в контейнере объект.<p>
`dissCast` - Функция, которая форсирует приведение типа от `Any` к `T`, при неудаче не вызывает краш, в выбрасывает Error unexpectedType. Рекомендуется к использованию в initializer в функции `dissAssist`.<p>
`DissSingle` - Класс-обёртка, предоставляющий возможность создавать структуры с `singleton policy`.<p>
### Архитектура
![Архитектура](docs/DissArchitecture.png "Архитектура")